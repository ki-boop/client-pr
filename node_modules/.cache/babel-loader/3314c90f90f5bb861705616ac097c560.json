{"ast":null,"code":"import axios, { AxiosError } from 'axios';\nimport { PayStateErrorMessages } from '../../store/pay/types';\nexport const payAPI = {\n  async payByTerminalKey(data) {\n    try {\n      const res = await axios.patch(`${process.env.REACT_APP_ONLINE_BANK_SERVER_URL}/card/throw-money/t-key`, {\n        key: process.env.REACT_APP_APP_TERMINAL_KEY,\n        cardNumber: data.cartNumber,\n        person: data.person.toLowerCase().split(' ').map(item => item[0].toUpperCase() + item.slice(1)).join(' '),\n        secret: Number(data.secret),\n        amount: data.amount\n      });\n      return res.data;\n    } catch (e) {\n      if (e.response.data.message === 'Passing card is low of money') throw new AxiosError(PayStateErrorMessages.LOW_MONEY);\n      throw new AxiosError(PayStateErrorMessages.WRONG_INFO);\n    }\n  }\n\n};","map":{"version":3,"names":["axios","AxiosError","PayStateErrorMessages","payAPI","payByTerminalKey","data","res","patch","process","env","REACT_APP_ONLINE_BANK_SERVER_URL","key","REACT_APP_APP_TERMINAL_KEY","cardNumber","cartNumber","person","toLowerCase","split","map","item","toUpperCase","slice","join","secret","Number","amount","e","response","message","LOW_MONEY","WRONG_INFO"],"sources":["/Users/kirillkarpakov/WebstormProjects/client-pr/src/services/api/payAPI.ts"],"sourcesContent":["import axios, { AxiosError } from 'axios';\nimport { IPayByTerminalKey, PayStateErrorMessages } from '../../store/pay/types';\n\n\nexport const payAPI = {\n\tasync payByTerminalKey(data: IPayByTerminalKey): Promise<void> {\n\t\ttry {\n\t\t\tconst res = await axios.patch(`${process.env.REACT_APP_ONLINE_BANK_SERVER_URL}/card/throw-money/t-key`, {\n\t\t\t\tkey: process.env.REACT_APP_APP_TERMINAL_KEY,\n\t\t\t\tcardNumber: data.cartNumber,\n\t\t\t\tperson: data.person\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.split(' ')\n\t\t\t\t\t.map(item => item[0].toUpperCase() + item.slice(1))\n\t\t\t\t\t.join(' '),\n\t\t\t\tsecret: Number(data.secret),\n\t\t\t\tamount: data.amount\n\t\t\t});\n\n\t\t\treturn res.data;\n\t\t} catch (e: any) {\n\t\t\tif (e.response.data.message === 'Passing card is low of money')\n\t\t\t\tthrow new AxiosError(PayStateErrorMessages.LOW_MONEY);\n\n\t\t\tthrow new AxiosError(PayStateErrorMessages.WRONG_INFO);\n\t\t}\n\t}\n};"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAA4BC,qBAA5B,QAAyD,uBAAzD;AAGA,OAAO,MAAMC,MAAM,GAAG;EACrB,MAAMC,gBAAN,CAAuBC,IAAvB,EAA+D;IAC9D,IAAI;MACH,MAAMC,GAAG,GAAG,MAAMN,KAAK,CAACO,KAAN,CAAa,GAAEC,OAAO,CAACC,GAAR,CAAYC,gCAAiC,yBAA5D,EAAsF;QACvGC,GAAG,EAAEH,OAAO,CAACC,GAAR,CAAYG,0BADsF;QAEvGC,UAAU,EAAER,IAAI,CAACS,UAFsF;QAGvGC,MAAM,EAAEV,IAAI,CAACU,MAAL,CACNC,WADM,GAENC,KAFM,CAEA,GAFA,EAGNC,GAHM,CAGFC,IAAI,IAAIA,IAAI,CAAC,CAAD,CAAJ,CAAQC,WAAR,KAAwBD,IAAI,CAACE,KAAL,CAAW,CAAX,CAH9B,EAINC,IAJM,CAID,GAJC,CAH+F;QAQvGC,MAAM,EAAEC,MAAM,CAACnB,IAAI,CAACkB,MAAN,CARyF;QASvGE,MAAM,EAAEpB,IAAI,CAACoB;MAT0F,CAAtF,CAAlB;MAYA,OAAOnB,GAAG,CAACD,IAAX;IACA,CAdD,CAcE,OAAOqB,CAAP,EAAe;MAChB,IAAIA,CAAC,CAACC,QAAF,CAAWtB,IAAX,CAAgBuB,OAAhB,KAA4B,8BAAhC,EACC,MAAM,IAAI3B,UAAJ,CAAeC,qBAAqB,CAAC2B,SAArC,CAAN;MAED,MAAM,IAAI5B,UAAJ,CAAeC,qBAAqB,CAAC4B,UAArC,CAAN;IACA;EACD;;AAtBoB,CAAf"},"metadata":{},"sourceType":"module"}