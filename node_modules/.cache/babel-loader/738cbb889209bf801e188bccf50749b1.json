{"ast":null,"code":"import axios from 'axios';\nimport cookies from 'js-cookie';\nexport const pizzaAPI = {\n  async create(requestData) {\n    const formData = new FormData();\n    formData.append('file', requestData.file);\n    formData.append('title', requestData.title);\n    formData.append('type', requestData.type);\n    formData.append('size', String(requestData.size));\n    formData.append('category', requestData.category);\n    formData.append('price', String(requestData.price));\n    formData.append('rating', String(requestData.rating));\n    const res = await axios.post(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza`, formData, {\n      headers: {\n        Authorization: `Bearer ${cookies.get('token')}`\n      }\n    });\n    return res.data;\n  },\n\n  async findAll() {\n    const res = await axios.get(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza`, {\n      headers: {\n        Authorization: `Bearer ${cookies.get('token')}`\n      }\n    });\n    return res.data;\n  },\n\n  async findById(id) {\n    const res = await axios.get(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza/${id}`, {\n      headers: {\n        Authorization: `Bearer ${cookies.get('token')}`\n      }\n    });\n    return res.data;\n  },\n\n  async findByTitle(title) {\n    const res = await axios.get(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza/find?title=${title}`, {\n      headers: {\n        Authorization: `Bearer ${cookies.get('token')}`\n      }\n    });\n    return res.data;\n  },\n\n  async findPizzaCategories() {\n    const res = await axios.get(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza/categories`, {\n      headers: {\n        Authorization: `Bearer ${cookies.get('token')}`\n      }\n    });\n    return res.data;\n  },\n\n  async update(dto) {\n    const res = await axios.patch(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza/${dto.id}`, {\n      price: dto.price,\n      rating: dto.rating\n    }, {\n      headers: {\n        Authorization: `Bearer ${cookies.get('token')}`\n      }\n    });\n    return res.data;\n  },\n\n  async updatePizzaGroupPhotoByTitle(dto) {\n    const formData = new FormData();\n    formData.append('file', dto.file);\n    const res = await axios.patch(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza/group-photo?title=${dto.title}`, formData, {\n      headers: {\n        Authorization: `Bearer ${cookies.get('token')}`\n      }\n    });\n    return res.data;\n  },\n\n  async delete(id) {\n    const res = await axios.delete(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza/${id}`, {\n      headers: {\n        Authorization: `Bearer ${cookies.get('token')}`\n      }\n    });\n    return res.data;\n  },\n\n  async deleteByTitle(title) {\n    const res = await axios.delete(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza?title=${title}`, {\n      headers: {\n        Authorization: `Bearer ${cookies.get('token')}`\n      }\n    });\n    return res.data;\n  }\n\n};","map":{"version":3,"names":["axios","cookies","pizzaAPI","create","requestData","formData","FormData","append","file","title","type","String","size","category","price","rating","res","post","process","env","REACT_APP_PIZZA_SERVER_URL","headers","Authorization","get","data","findAll","findById","id","findByTitle","findPizzaCategories","update","dto","patch","updatePizzaGroupPhotoByTitle","delete","deleteByTitle"],"sources":["/Users/kirillkarpakov/WebstormProjects/client-pr/src/services/api/pizzaAPI.ts"],"sourcesContent":["import axios from 'axios';\nimport {\n\tICreatePizzaRequest,\n\tIPizzaResponse,\n\tIUpdatePizzaGroupPhotoRequest,\n\tIUpdatePizzaRequest\n} from '../../store/pizza/types';\nimport { ICategoryResponse } from '../../store/filter/types';\nimport cookies from 'js-cookie';\n\n\nexport const pizzaAPI = {\n\tasync create(requestData: ICreatePizzaRequest): Promise<IPizzaResponse> {\n\t\tconst formData = new FormData();\n\n\t\tformData.append('file', requestData.file);\n\t\tformData.append('title', requestData.title);\n\t\tformData.append('type', requestData.type);\n\t\tformData.append('size', String(requestData.size));\n\t\tformData.append('category', requestData.category);\n\t\tformData.append('price', String(requestData.price));\n\t\tformData.append('rating', String(requestData.rating));\n\n\t\tconst res = await axios.post(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza`, formData, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${cookies.get('token')}`\n\t\t\t}\n\t\t});\n\n\t\treturn res.data;\n\t},\n\n\tasync findAll(): Promise<IPizzaResponse[]> {\n\t\tconst res = await axios.get(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${cookies.get('token')}`\n\t\t\t}\n\t\t});\n\n\t\treturn res.data;\n\t},\n\n\tasync findById(id: number): Promise<IPizzaResponse> {\n\t\tconst res = await axios.get(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza/${id}`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${cookies.get('token')}`\n\t\t\t}\n\t\t});\n\n\t\treturn res.data;\n\t},\n\n\tasync findByTitle(title: string): Promise<IPizzaResponse[]> {\n\t\tconst res = await axios.get(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza/find?title=${title}`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${cookies.get('token')}`\n\t\t\t}\n\t\t});\n\n\t\treturn res.data;\n\t},\n\n\tasync findPizzaCategories(): Promise<ICategoryResponse[]> {\n\t\tconst res = await axios.get(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza/categories`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${cookies.get('token')}`\n\t\t\t}\n\t\t});\n\n\t\treturn res.data;\n\t},\n\n\tasync update(dto: IUpdatePizzaRequest): Promise<IPizzaResponse> {\n\t\tconst res = await axios.patch(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza/${dto.id}`,\n\t\t\t{\n\t\t\t\tprice: dto.price,\n\t\t\t\trating: dto.rating\n\t\t\t}, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${cookies.get('token')}`\n\t\t\t\t}\n\t\t\t});\n\n\t\treturn res.data;\n\t},\n\n\tasync updatePizzaGroupPhotoByTitle(dto: IUpdatePizzaGroupPhotoRequest): Promise<IPizzaResponse[]> {\n\t\tconst formData = new FormData();\n\n\t\tformData.append('file', dto.file);\n\n\t\tconst res = await axios.patch(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza/group-photo?title=${dto.title}`, formData, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${cookies.get('token')}`\n\t\t\t}\n\t\t});\n\n\t\treturn res.data;\n\t},\n\n\tasync delete(id: number): Promise<IPizzaResponse> {\n\t\tconst res = await axios.delete(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza/${id}`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${cookies.get('token')}`\n\t\t\t}\n\t\t});\n\n\t\treturn res.data;\n\t},\n\n\tasync deleteByTitle(title: string): Promise<IPizzaResponse[]> {\n\t\tconst res = await axios.delete(`${process.env.REACT_APP_PIZZA_SERVER_URL}/pizza?title=${title}`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${cookies.get('token')}`\n\t\t\t}\n\t\t});\n\n\t\treturn res.data;\n\t}\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}