{"ast":null,"code":"var _jsxFileName = \"/Users/kirillkarpakov/WebstormProjects/client-pr/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Route, Routes, useLocation, useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { MainLayout } from './layouts/MainLayout';\nimport { Home } from './pages/Home';\nimport { Auth } from './pages/Auth';\nimport { useAppDispatch } from './store/store';\nimport { selectIsAuth, selectUserStatus } from './store/user/selectors';\nimport { findUserData } from './store/user/asyncActions';\nimport { withSuspense } from './hocs/withSuspense';\nimport { Status } from './store/types';\nimport './scss/app.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cart = /*#__PURE__*/React.lazy(_c = () => import('./pages/Cart'));\n_c2 = Cart;\nconst FullPizza = /*#__PURE__*/React.lazy(_c3 = () => import('./pages/FullPizza'));\n_c4 = FullPizza;\nconst NotFound = /*#__PURE__*/React.lazy(_c5 = () => import('./pages/NotFound'));\n_c6 = NotFound;\nconst Profile = /*#__PURE__*/React.lazy(_c7 = () => import('./pages/Profile'));\n_c8 = Profile;\nconst Pay = /*#__PURE__*/React.lazy(_c9 = () => import('./pages/Pay'));\n_c10 = Pay;\nconst Admin = /*#__PURE__*/React.lazy(_c11 = () => import('./pages/Admin'));\n_c12 = Admin;\nconst CreatePizza = /*#__PURE__*/React.lazy(_c13 = () => import('./pages/CreatePizza'));\n_c14 = CreatePizza;\nconst SuspendedCart = withSuspense(Cart);\n_c15 = SuspendedCart;\nconst SuspendedFullPizza = withSuspense(FullPizza);\n_c16 = SuspendedFullPizza;\nconst SuspendedNotFound = withSuspense(NotFound);\n_c17 = SuspendedNotFound;\nconst SuspendedProfile = withSuspense(Profile);\n_c18 = SuspendedProfile;\nconst SuspendedPay = withSuspense(Pay);\n_c19 = SuspendedPay;\nconst SuspendedAdmin = withSuspense(Admin);\n_c20 = SuspendedAdmin;\nconst SuspendedCreatePizza = withSuspense(CreatePizza);\n_c21 = SuspendedCreatePizza;\n\nfunction App() {\n  _s();\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  const dispatch = useAppDispatch();\n  const isAuth = useSelector(selectIsAuth);\n  const userStatus = useSelector(selectUserStatus);\n  const isReady = userStatus !== Status.LOADING && userStatus !== Status.NEVER;\n  useEffect(() => {\n    dispatch(findUserData());\n  }, [userStatus]);\n  useEffect(() => {\n    if (!isAuth && !isReady) {\n      navigate('/auth', {\n        replace: true\n      });\n    } else if (location.pathname === '/') {\n      navigate('/', {\n        replace: true\n      });\n    }\n  }, [isAuth, isReady]);\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/auth\",\n      element: /*#__PURE__*/_jsxDEV(Auth, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 33\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/pay\",\n      element: /*#__PURE__*/_jsxDEV(SuspendedPay, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 32\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/create-pizza\",\n      element: /*#__PURE__*/_jsxDEV(SuspendedCreatePizza, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 41\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      element: /*#__PURE__*/_jsxDEV(MainLayout, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 29\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"\",\n        element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"cart\",\n        element: /*#__PURE__*/_jsxDEV(SuspendedCart, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"profile\",\n        element: /*#__PURE__*/_jsxDEV(SuspendedProfile, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 36\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"admin\",\n        element: /*#__PURE__*/_jsxDEV(SuspendedAdmin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"pizza/:id\",\n        element: /*#__PURE__*/_jsxDEV(SuspendedFullPizza, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 38\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(SuspendedNotFound, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 30\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 3\n  }, this);\n}\n\n_s(App, \"8j+kvDxHn2+w6htvLhErNVPJDUU=\", false, function () {\n  return [useNavigate, useLocation, useAppDispatch, useSelector, useSelector];\n});\n\n_c22 = App;\nexport default App;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22;\n\n$RefreshReg$(_c, \"Cart$React.lazy\");\n$RefreshReg$(_c2, \"Cart\");\n$RefreshReg$(_c3, \"FullPizza$React.lazy\");\n$RefreshReg$(_c4, \"FullPizza\");\n$RefreshReg$(_c5, \"NotFound$React.lazy\");\n$RefreshReg$(_c6, \"NotFound\");\n$RefreshReg$(_c7, \"Profile$React.lazy\");\n$RefreshReg$(_c8, \"Profile\");\n$RefreshReg$(_c9, \"Pay$React.lazy\");\n$RefreshReg$(_c10, \"Pay\");\n$RefreshReg$(_c11, \"Admin$React.lazy\");\n$RefreshReg$(_c12, \"Admin\");\n$RefreshReg$(_c13, \"CreatePizza$React.lazy\");\n$RefreshReg$(_c14, \"CreatePizza\");\n$RefreshReg$(_c15, \"SuspendedCart\");\n$RefreshReg$(_c16, \"SuspendedFullPizza\");\n$RefreshReg$(_c17, \"SuspendedNotFound\");\n$RefreshReg$(_c18, \"SuspendedProfile\");\n$RefreshReg$(_c19, \"SuspendedPay\");\n$RefreshReg$(_c20, \"SuspendedAdmin\");\n$RefreshReg$(_c21, \"SuspendedCreatePizza\");\n$RefreshReg$(_c22, \"App\");","map":{"version":3,"names":["React","useEffect","Route","Routes","useLocation","useNavigate","useSelector","MainLayout","Home","Auth","useAppDispatch","selectIsAuth","selectUserStatus","findUserData","withSuspense","Status","Cart","lazy","FullPizza","NotFound","Profile","Pay","Admin","CreatePizza","SuspendedCart","SuspendedFullPizza","SuspendedNotFound","SuspendedProfile","SuspendedPay","SuspendedAdmin","SuspendedCreatePizza","App","navigate","location","dispatch","isAuth","userStatus","isReady","LOADING","NEVER","replace","pathname"],"sources":["/Users/kirillkarpakov/WebstormProjects/client-pr/src/App.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Route, Routes, useLocation, useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { MainLayout } from './layouts/MainLayout';\nimport { Home } from './pages/Home';\nimport { Auth } from './pages/Auth';\nimport { useAppDispatch } from './store/store';\nimport { selectIsAuth, selectUserStatus } from './store/user/selectors';\nimport { findUserData } from './store/user/asyncActions';\nimport { withSuspense } from './hocs/withSuspense';\nimport { Status } from './store/types';\nimport './scss/app.scss';\n\n\nconst Cart = React.lazy(() => import('./pages/Cart'));\nconst FullPizza = React.lazy(() => import('./pages/FullPizza'));\nconst NotFound = React.lazy(() => import('./pages/NotFound'));\nconst Profile = React.lazy(() => import('./pages/Profile'));\nconst Pay = React.lazy(() => import('./pages/Pay'));\nconst Admin = React.lazy(() => import('./pages/Admin'));\nconst CreatePizza = React.lazy(() => import('./pages/CreatePizza'));\n\nconst SuspendedCart = withSuspense(Cart);\nconst SuspendedFullPizza = withSuspense(FullPizza);\nconst SuspendedNotFound = withSuspense(NotFound);\nconst SuspendedProfile = withSuspense(Profile);\nconst SuspendedPay = withSuspense(Pay);\nconst SuspendedAdmin = withSuspense(Admin);\nconst SuspendedCreatePizza = withSuspense(CreatePizza);\n\nfunction App() {\n\tconst navigate = useNavigate();\n\tconst location = useLocation();\n\tconst dispatch = useAppDispatch();\n\tconst isAuth = useSelector(selectIsAuth);\n\tconst userStatus = useSelector(selectUserStatus);\n\tconst isReady = userStatus !== Status.LOADING && userStatus !== Status.NEVER;\n\n\tuseEffect(() => {\n\t\tdispatch(findUserData());\n\t}, [userStatus]);\n\n\tuseEffect(() => {\n\t\tif (!isAuth && !isReady) {\n\t\t\tnavigate('/auth', {replace: true});\n\t\t} else if (location.pathname === '/') {\n\t\t\tnavigate('/', {replace: true});\n\t\t}\n\t}, [isAuth, isReady]);\n\n\treturn (\n\t\t<Routes>\n\t\t\t<Route path=\"/auth\" element={<Auth/>}/>\n\t\t\t<Route path=\"/pay\" element={<SuspendedPay/>}/>\n\t\t\t<Route path=\"/create-pizza\" element={<SuspendedCreatePizza/>}/>\n\n\t\t\t<Route path=\"/\" element={<MainLayout/>}>\n\t\t\t\t<Route path=\"\" element={<Home/>}/>\n\t\t\t\t<Route path=\"cart\" element={<SuspendedCart/>}/>\n\t\t\t\t<Route path=\"profile\" element={<SuspendedProfile/>}/>\n\t\t\t\t<Route path=\"admin\" element={<SuspendedAdmin/>}/>\n\t\t\t\t<Route path=\"pizza/:id\" element={<SuspendedFullPizza/>}/>\n\t\t\t\t<Route path=\"*\" element={<SuspendedNotFound/>}/>\n\t\t\t</Route>\n\t\t</Routes>\n\t);\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}