{"ast":null,"code":"import axios from 'axios';\nimport cookies from 'js-cookie';\nexport const authAPI = {\n  async register(requestData) {\n    const res = await axios.post(`${process.env.REACT_APP_PIZZA_SERVER_URL}/auth/register`, {\n      username: requestData.username,\n      email: requestData.email,\n      password: requestData.password,\n      roles: ['user']\n    });\n    return res.data;\n  },\n\n  async login(requestData) {\n    const res = await axios.post(`${process.env.REACT_APP_PIZZA_SERVER_URL}/auth/login`, {\n      username: requestData.username,\n      password: requestData.password\n    });\n    cookies.set('token', res.data.accessToken, {\n      expires: 7\n    });\n    return res.data;\n  },\n\n  async logout() {\n    cookies.remove('token');\n  }\n\n};","map":{"version":3,"names":["axios","cookies","authAPI","register","requestData","res","post","process","env","REACT_APP_PIZZA_SERVER_URL","username","email","password","roles","data","login","set","accessToken","expires","logout","remove"],"sources":["/Users/kirillkarpakov/WebstormProjects/client-pr/src/services/api/authAPI.ts"],"sourcesContent":["import axios from 'axios';\nimport { ILoginForm } from '../../components/Login/Login';\nimport { ILoginUserResponse, IRegisterUser, IRegisterUserResponse } from '../../store/auth/types';\nimport cookies from 'js-cookie';\n\n\nexport const authAPI = {\n\tasync register(requestData: IRegisterUser): Promise<IRegisterUserResponse> {\n\t\tconst res = await axios.post(`${process.env.REACT_APP_PIZZA_SERVER_URL}/auth/register`, {\n\t\t\tusername: requestData.username,\n\t\t\temail: requestData.email,\n\t\t\tpassword: requestData.password,\n\t\t\troles: ['user']\n\t\t});\n\n\t\treturn res.data;\n\t},\n\n\tasync login(requestData: ILoginForm): Promise<ILoginUserResponse> {\n\t\tconst res = await axios.post(`${process.env.REACT_APP_PIZZA_SERVER_URL}/auth/login`, {\n\t\t\tusername: requestData.username,\n\t\t\tpassword: requestData.password\n\t\t});\n\n\t\tcookies.set('token', res.data.accessToken, {expires: 7});\n\n\t\treturn res.data;\n\t},\n\n\tasync logout(): Promise<void> {\n\t\tcookies.remove('token');\n\t}\n};"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,OAAOC,OAAP,MAAoB,WAApB;AAGA,OAAO,MAAMC,OAAO,GAAG;EACtB,MAAMC,QAAN,CAAeC,WAAf,EAA2E;IAC1E,MAAMC,GAAG,GAAG,MAAML,KAAK,CAACM,IAAN,CAAY,GAAEC,OAAO,CAACC,GAAR,CAAYC,0BAA2B,gBAArD,EAAsE;MACvFC,QAAQ,EAAEN,WAAW,CAACM,QADiE;MAEvFC,KAAK,EAAEP,WAAW,CAACO,KAFoE;MAGvFC,QAAQ,EAAER,WAAW,CAACQ,QAHiE;MAIvFC,KAAK,EAAE,CAAC,MAAD;IAJgF,CAAtE,CAAlB;IAOA,OAAOR,GAAG,CAACS,IAAX;EACA,CAVqB;;EAYtB,MAAMC,KAAN,CAAYX,WAAZ,EAAkE;IACjE,MAAMC,GAAG,GAAG,MAAML,KAAK,CAACM,IAAN,CAAY,GAAEC,OAAO,CAACC,GAAR,CAAYC,0BAA2B,aAArD,EAAmE;MACpFC,QAAQ,EAAEN,WAAW,CAACM,QAD8D;MAEpFE,QAAQ,EAAER,WAAW,CAACQ;IAF8D,CAAnE,CAAlB;IAKAX,OAAO,CAACe,GAAR,CAAY,OAAZ,EAAqBX,GAAG,CAACS,IAAJ,CAASG,WAA9B,EAA2C;MAACC,OAAO,EAAE;IAAV,CAA3C;IAEA,OAAOb,GAAG,CAACS,IAAX;EACA,CArBqB;;EAuBtB,MAAMK,MAAN,GAA8B;IAC7BlB,OAAO,CAACmB,MAAR,CAAe,OAAf;EACA;;AAzBqB,CAAhB"},"metadata":{},"sourceType":"module"}