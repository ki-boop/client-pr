{"ast":null,"code":"var _jsxFileName = \"/Users/kirillkarpakov/WebstormProjects/client-pr/src/components/UpdatePizzaForm/UpdatePizzaForm.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport * as yup from 'yup';\nimport { useAppDispatch } from '../../store/store';\nimport { updatePizza } from '../../store/pizza/asyncActions';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup/dist/yup';\nimport styles from './UpdatePizzaForm.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst yupSchema = yup.object({\n  price: yup.number().required('Введите цену'),\n  rating: yup.number().required('Введите рейтинг')\n});\nexport const UpdatePizzaForm = _ref => {\n  _s();\n\n  var _errors$price, _errors$price2, _errors$price3, _errors$rating, _errors$rating2, _errors$rating3;\n\n  let {\n    id,\n    setFormType\n  } = _ref;\n  const dispatch = useAppDispatch();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(yupSchema)\n  });\n\n  const submitUpdatePizzaHandler = data => {\n    dispatch(updatePizza({\n      id: id,\n      price: data.price,\n      rating: data.rating\n    }));\n    setFormType(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.form__wrapper,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__title--small\",\n      children: \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u0438\\u0446\\u0446\\u044B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(submitUpdatePizzaHandler),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.form__container,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `auth__field__block ${styles.field__price}`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", { ...register('price'),\n            className: \"auth__field__input\",\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u0432\\u0443\\u044E \\u0446\\u0435\\u043D\\u0443 \\u043F\\u0438\\u0446\\u0446\\u044B\",\n            id: \"price_field\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: `field__label ${(_errors$price = errors.price) !== null && _errors$price !== void 0 && _errors$price.message ? 'field__error' : ''}`,\n            htmlFor: \"price_field\",\n            children: (_errors$price2 = errors.price) !== null && _errors$price2 !== void 0 && _errors$price2.message ? (_errors$price3 = errors.price) === null || _errors$price3 === void 0 ? void 0 : _errors$price3.message : `Новая цена`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `auth__field__block ${styles.field__rating}`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", { ...register('rating'),\n            className: \"auth__field__input\",\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u0432\\u044B\\u0439 \\u0440\\u0435\\u0439\\u0442\\u0438\\u043D\\u0433 \\u043F\\u0438\\u0446\\u0446\\u044B\",\n            id: \"rating_field\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: `field__label ${(_errors$rating = errors.rating) !== null && _errors$rating !== void 0 && _errors$rating.message ? 'field__error' : ''}`,\n            htmlFor: \"rating_field\",\n            children: (_errors$rating2 = errors.rating) !== null && _errors$rating2 !== void 0 && _errors$rating2.message ? (_errors$rating3 = errors.rating) === null || _errors$rating3 === void 0 ? void 0 : _errors$rating3.message : `Новый рейтинг`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: 'submit',\n        className: `button button--black ${styles.form__button}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 3\n  }, this);\n};\n\n_s(UpdatePizzaForm, \"/528u4XL2jF0WZKOlxf1zjoi07A=\", false, function () {\n  return [useAppDispatch, useForm];\n});\n\n_c = UpdatePizzaForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdatePizzaForm\");","map":{"version":3,"names":["React","yup","useAppDispatch","updatePizza","useForm","yupResolver","styles","yupSchema","object","price","number","required","rating","UpdatePizzaForm","id","setFormType","dispatch","register","handleSubmit","formState","errors","resolver","submitUpdatePizzaHandler","data","form__wrapper","form__container","field__price","message","field__rating","form__button"],"sources":["/Users/kirillkarpakov/WebstormProjects/client-pr/src/components/UpdatePizzaForm/UpdatePizzaForm.tsx"],"sourcesContent":["import React from 'react';\nimport * as yup from 'yup';\nimport { useAppDispatch } from '../../store/store';\nimport { updatePizza } from '../../store/pizza/asyncActions';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup/dist/yup';\nimport styles from './UpdatePizzaForm.module.scss';\n\n\nexport interface IUpdatePizzaForm {\n\tprice: number;\n\trating: number;\n}\n\nconst yupSchema = yup.object({\n\tprice: yup.number().required('Введите цену'),\n\trating: yup.number().required('Введите рейтинг')\n});\n\ninterface ICreatePizzaFormProps {\n\tid: number;\n\tsetFormType: (param: 'update' | 'updatePhoto' | null) => void;\n}\n\nexport const UpdatePizzaForm: React.FC<ICreatePizzaFormProps> = ({id, setFormType}) => {\n\tconst dispatch = useAppDispatch();\n\tconst {register, handleSubmit, formState: {errors}} = useForm<IUpdatePizzaForm>({\n\t\tresolver: yupResolver(yupSchema)\n\t});\n\n\tconst submitUpdatePizzaHandler = (data: IUpdatePizzaForm) => {\n\t\tdispatch(updatePizza({\n\t\t\tid: id,\n\t\t\tprice: data.price,\n\t\t\trating: data.rating\n\t\t}));\n\n\t\tsetFormType(null);\n\t};\n\n\treturn (\n\t\t<div className={styles.form__wrapper}>\n\t\t\t<div className=\"content__title--small\">Обновление пиццы</div>\n\n\t\t\t<form onSubmit={handleSubmit(submitUpdatePizzaHandler)}>\n\t\t\t\t<div className={styles.form__container}>\n\t\t\t\t\t<div className={`auth__field__block ${styles.field__price}`}>\n\t\t\t\t\t\t<input {...register('price')}\n\t\t\t\t\t\t\t   className=\"auth__field__input\"\n\t\t\t\t\t\t\t   placeholder=\"Введите новую цену пиццы\"\n\t\t\t\t\t\t\t   id=\"price_field\"/>\n\t\t\t\t\t\t<label className={`field__label ${errors.price?.message ? 'field__error' : ''}`}\n\t\t\t\t\t\t\t   htmlFor=\"price_field\">\n\t\t\t\t\t\t\t{errors.price?.message ? errors.price?.message : `Новая цена`}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={`auth__field__block ${styles.field__rating}`}>\n\t\t\t\t\t\t<input {...register('rating')}\n\t\t\t\t\t\t\t   className=\"auth__field__input\"\n\t\t\t\t\t\t\t   placeholder=\"Введите новый рейтинг пиццы\"\n\t\t\t\t\t\t\t   id=\"rating_field\"/>\n\t\t\t\t\t\t<label className={`field__label ${errors.rating?.message ? 'field__error' : ''}`}\n\t\t\t\t\t\t\t   htmlFor=\"rating_field\">\n\t\t\t\t\t\t\t{errors.rating?.message ? errors.rating?.message : `Новый рейтинг`}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<input type={'submit'} className={`button button--black ${styles.form__button}`}/>\n\t\t\t</form>\n\t\t</div>\n\t);\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}