{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { UserStateErrorMessages } from './types';\nimport { singIn, singOut, singUp } from '../auth/asyncActions';\nimport { findUserData } from './asyncActions';\nimport { Status } from '../types';\nconst initialState = {\n  data: null,\n  isAuthorized: false,\n  status: Status.NEVER,\n  errorMessage: null\n};\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(singUp.fulfilled, (state, action) => {\n      state.data = {\n        id: action.payload.id,\n        username: action.payload.username,\n        email: action.payload.email,\n        role: action.payload.roles[0]\n      };\n      state.isAuthorized = false;\n      state.status = Status.SUCCESS;\n      state.errorMessage = null;\n    });\n    builder.addCase(singUp.rejected, state => {\n      state.data = null;\n      state.isAuthorized = false;\n      state.status = Status.ERROR;\n      state.errorMessage = UserStateErrorMessages.REGISTER_ALREADY_EXIST;\n    });\n    builder.addCase(singUp.pending, state => {\n      state.data = null;\n      state.isAuthorized = false;\n      state.status = Status.LOADING;\n      state.errorMessage = null;\n    });\n    builder.addCase(singIn.fulfilled, state => {\n      state.isAuthorized = true;\n      state.status = Status.SUCCESS;\n      state.errorMessage = null;\n    });\n    builder.addCase(singIn.rejected, state => {\n      state.isAuthorized = false;\n      state.status = Status.ERROR;\n      state.errorMessage = UserStateErrorMessages.LOGIN_BAD_REQUEST;\n    });\n    builder.addCase(singIn.pending, state => {\n      state.isAuthorized = false;\n      state.status = Status.LOADING;\n      state.errorMessage = null;\n    });\n    builder.addCase(singOut.fulfilled, state => {\n      state.data = null;\n      state.isAuthorized = false;\n      state.status = Status.NEVER;\n      state.errorMessage = null;\n    });\n    builder.addCase(findUserData.fulfilled, (state, action) => {\n      state.data = {\n        id: action.payload.id,\n        username: action.payload.username,\n        email: action.payload.email,\n        role: action.payload.roles[0]\n      };\n      state.isAuthorized = true;\n      state.status = Status.SUCCESS;\n      state.errorMessage = null;\n    });\n    builder.addCase(findUserData.rejected, state => {\n      state.data = null;\n      state.isAuthorized = false;\n      state.status = Status.ERROR;\n    });\n  }\n});\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","UserStateErrorMessages","singIn","singOut","singUp","findUserData","Status","initialState","data","isAuthorized","status","NEVER","errorMessage","userSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","id","payload","username","email","role","roles","SUCCESS","rejected","ERROR","REGISTER_ALREADY_EXIST","pending","LOADING","LOGIN_BAD_REQUEST","reducer"],"sources":["/Users/kirillkarpakov/WebstormProjects/client-pr/src/store/user/slice.ts"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { IUserSliceState, UserStateErrorMessages } from './types';\nimport { singIn, singOut, singUp } from '../auth/asyncActions';\nimport { findUserData } from './asyncActions';\nimport { Status } from '../types';\n\n\nconst initialState: IUserSliceState = {\n\tdata: null,\n\tisAuthorized: false,\n\tstatus: Status.NEVER,\n\terrorMessage: null\n};\n\nconst userSlice = createSlice({\n\tname: 'user',\n\tinitialState,\n\treducers: {},\n\textraReducers: (builder) => {\n\t\tbuilder.addCase(singUp.fulfilled, (state, action) => {\n\t\t\tstate.data = {\n\t\t\t\tid: action.payload.id,\n\t\t\t\tusername: action.payload.username,\n\t\t\t\temail: action.payload.email,\n\t\t\t\trole: action.payload.roles[0]\n\t\t\t};\n\n\t\t\tstate.isAuthorized = false;\n\t\t\tstate.status = Status.SUCCESS;\n\t\t\tstate.errorMessage = null;\n\t\t});\n\n\t\tbuilder.addCase(singUp.rejected, (state) => {\n\t\t\tstate.data = null;\n\t\t\tstate.isAuthorized = false;\n\t\t\tstate.status = Status.ERROR;\n\t\t\tstate.errorMessage = UserStateErrorMessages.REGISTER_ALREADY_EXIST;\n\t\t});\n\n\t\tbuilder.addCase(singUp.pending, (state) => {\n\t\t\tstate.data = null;\n\t\t\tstate.isAuthorized = false;\n\t\t\tstate.status = Status.LOADING;\n\t\t\tstate.errorMessage = null;\n\t\t});\n\n\t\tbuilder.addCase(singIn.fulfilled, (state) => {\n\t\t\tstate.isAuthorized = true;\n\t\t\tstate.status = Status.SUCCESS;\n\t\t\tstate.errorMessage = null;\n\t\t});\n\n\t\tbuilder.addCase(singIn.rejected, (state) => {\n\t\t\tstate.isAuthorized = false;\n\t\t\tstate.status = Status.ERROR;\n\t\t\tstate.errorMessage = UserStateErrorMessages.LOGIN_BAD_REQUEST;\n\t\t});\n\n\t\tbuilder.addCase(singIn.pending, (state) => {\n\t\t\tstate.isAuthorized = false;\n\t\t\tstate.status = Status.LOADING;\n\t\t\tstate.errorMessage = null;\n\t\t});\n\n\n\t\tbuilder.addCase(singOut.fulfilled, (state) => {\n\t\t\tstate.data = null;\n\t\t\tstate.isAuthorized = false;\n\t\t\tstate.status = Status.NEVER;\n\t\t\tstate.errorMessage = null;\n\t\t});\n\n\t\tbuilder.addCase(findUserData.fulfilled, (state, action) => {\n\t\t\tstate.data = {\n\t\t\t\tid: action.payload.id,\n\t\t\t\tusername: action.payload.username,\n\t\t\t\temail: action.payload.email,\n\t\t\t\trole: action.payload.roles[0]\n\t\t\t};\n\n\t\t\tstate.isAuthorized = true;\n\t\t\tstate.status = Status.SUCCESS;\n\t\t\tstate.errorMessage = null;\n\t\t});\n\n\t\tbuilder.addCase(findUserData.rejected, (state) => {\n\t\t\tstate.data = null;\n\t\t\tstate.isAuthorized = false;\n\t\t\tstate.status = Status.ERROR;\n\t\t});\n\t}\n});\n\nexport default userSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}