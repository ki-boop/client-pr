{"ast":null,"code":"var _jsxFileName = \"/Users/kirillkarpakov/WebstormProjects/client-pr/src/components/Sort.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Sort = _ref => {\n  _s();\n\n  let {\n    sortTypes,\n    activeSortType,\n    changeActiveSortTypeHandler\n  } = _ref;\n  const sortRef = useRef(null);\n  const [isOpen, setIsOpen] = useState(false);\n\n  const setActiveSortTypeHandler = sortType => {\n    setIsOpen(false);\n    changeActiveSortTypeHandler(sortType);\n  };\n\n  const outsideClickHandler = e => {\n    var _sortRef$current;\n\n    if (!((_sortRef$current = sortRef.current) !== null && _sortRef$current !== void 0 && _sortRef$current.contains(e.target))) {\n      setIsOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    document.body.addEventListener('click', outsideClickHandler);\n    return () => {\n      document.body.removeEventListener('click', outsideClickHandler);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: sortRef,\n    className: \"sort\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sort__label\",\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430 \\u043F\\u043E:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => setIsOpen(!isOpen),\n        children: activeSortType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 4\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sort__popup\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: sortTypes.map((sortType, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => setActiveSortTypeHandler(sortType),\n          className: sortType === activeSortType ? 'active' : '',\n          children: sortType\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 10\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Sort, \"+ABca2ZlzpA0lLLp9WZfiW8LuMs=\");\n\n_c = Sort;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sort\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Sort","sortTypes","activeSortType","changeActiveSortTypeHandler","sortRef","isOpen","setIsOpen","setActiveSortTypeHandler","sortType","outsideClickHandler","e","current","contains","target","document","body","addEventListener","removeEventListener","map","i"],"sources":["/Users/kirillkarpakov/WebstormProjects/client-pr/src/components/Sort.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\n\n\ninterface ISortProps {\n\tsortTypes: string[];\n\tactiveSortType: string | null;\n\tchangeActiveSortTypeHandler: (param: string) => void;\n}\n\nexport const Sort: React.FC<ISortProps> = ({sortTypes, activeSortType, changeActiveSortTypeHandler}) => {\n\tconst sortRef = useRef<HTMLDivElement>(null);\n\tconst [isOpen, setIsOpen] = useState<boolean>(false);\n\n\tconst setActiveSortTypeHandler = (sortType: string) => {\n\t\tsetIsOpen(false);\n\t\tchangeActiveSortTypeHandler(sortType);\n\t};\n\n\tconst outsideClickHandler = (e: MouseEvent): void => {\n\t\tif (!sortRef.current?.contains(e.target as Node)) {\n\t\t\tsetIsOpen(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.body.addEventListener('click', outsideClickHandler);\n\n\t\treturn () => {\n\t\t\tdocument.body.removeEventListener('click', outsideClickHandler);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<div ref={sortRef} className=\"sort\">\n\t\t\t<div className=\"sort__label\">\n\t\t\t\t<b>Сортировка по:</b>\n\t\t\t\t<span onClick={() => setIsOpen(!isOpen)}>{activeSortType}</span>\n\t\t\t</div>\n\t\t\t{\n\t\t\t\tisOpen && (\n\t\t\t\t\t<div className=\"sort__popup\">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsortTypes.map((sortType, i) => (\n\t\t\t\t\t\t\t\t\t<li key={i}\n\t\t\t\t\t\t\t\t\t\tonClick={() => setActiveSortTypeHandler(sortType)}\n\t\t\t\t\t\t\t\t\t\tclassName={sortType === activeSortType ? 'active' : ''}>\n\t\t\t\t\t\t\t\t\t\t{sortType}\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n\t);\n};"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;;AASA,OAAO,MAAMC,IAA0B,GAAG,QAA8D;EAAA;;EAAA,IAA7D;IAACC,SAAD;IAAYC,cAAZ;IAA4BC;EAA5B,CAA6D;EACvG,MAAMC,OAAO,GAAGN,MAAM,CAAiB,IAAjB,CAAtB;EACA,MAAM,CAACO,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAU,KAAV,CAApC;;EAEA,MAAMQ,wBAAwB,GAAIC,QAAD,IAAsB;IACtDF,SAAS,CAAC,KAAD,CAAT;IACAH,2BAA2B,CAACK,QAAD,CAA3B;EACA,CAHD;;EAKA,MAAMC,mBAAmB,GAAIC,CAAD,IAAyB;IAAA;;IACpD,IAAI,sBAACN,OAAO,CAACO,OAAT,6CAAC,iBAAiBC,QAAjB,CAA0BF,CAAC,CAACG,MAA5B,CAAD,CAAJ,EAAkD;MACjDP,SAAS,CAAC,KAAD,CAAT;IACA;EACD,CAJD;;EAMAT,SAAS,CAAC,MAAM;IACfiB,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,EAAwCP,mBAAxC;IAEA,OAAO,MAAM;MACZK,QAAQ,CAACC,IAAT,CAAcE,mBAAd,CAAkC,OAAlC,EAA2CR,mBAA3C;IACA,CAFD;EAGA,CANQ,EAMN,EANM,CAAT;EAQA,oBACC;IAAK,GAAG,EAAEL,OAAV;IAAmB,SAAS,EAAC,MAA7B;IAAA,wBACC;MAAK,SAAS,EAAC,aAAf;MAAA,wBACC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADD,eAEC;QAAM,OAAO,EAAE,MAAME,SAAS,CAAC,CAACD,MAAF,CAA9B;QAAA,UAA0CH;MAA1C;QAAA;QAAA;QAAA;MAAA,QAFD;IAAA;MAAA;MAAA;MAAA;IAAA,QADD,EAMEG,MAAM,iBACL;MAAK,SAAS,EAAC,aAAf;MAAA,uBACC;QAAA,UAEEJ,SAAS,CAACiB,GAAV,CAAc,CAACV,QAAD,EAAWW,CAAX,kBACb;UACC,OAAO,EAAE,MAAMZ,wBAAwB,CAACC,QAAD,CADxC;UAEC,SAAS,EAAEA,QAAQ,KAAKN,cAAb,GAA8B,QAA9B,GAAyC,EAFrD;UAAA,UAGEM;QAHF,GAASW,CAAT;UAAA;UAAA;UAAA;QAAA,QADD;MAFF;QAAA;QAAA;QAAA;MAAA;IADD;MAAA;MAAA;MAAA;IAAA,QAPH;EAAA;IAAA;IAAA;IAAA;EAAA,QADD;AAyBA,CAhDM;;GAAMnB,I;;KAAAA,I"},"metadata":{},"sourceType":"module"}